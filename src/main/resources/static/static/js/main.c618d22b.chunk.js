(this.webpackJsonpjs=this.webpackJsonpjs||[]).push([[0],{163:function(e,t,n){e.exports=n(313)},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(3),i=n.n(l),s=(n(168),n(169),n(141)),o=n(142),c=n(159),u=n(143),m=n(160),d=(n(170),n(4)),f=n(317),h=n(314),g=n(154),p=n(315),y=n(52),E=n(103),b=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then((function(e){t.error=e})),Promise.reject(t)},v=function(){return Object(E.a)("/api/students").then(b)},N=function(e){return r.a.createElement("div",{style:{width:"1400px",margin:"0 auto",textAlign:"center"}},e.children)},O=n(23),S=(n(171),function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement(N,null,void 0!==e.numberOfStudents?r.a.createElement(h.a,{style:{backgroundColor:"#f56a00",marginRight:"5px"},size:"large"},e.numberOfStudents):null,r.a.createElement(O.a,{type:"primary",onClick:e.showModal},"Add new student +")))}),w=n(146),j=n(158),k=n(316),C=n(319);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var x={marginBottom:"10px"},M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:"#f50",color:"white",padding:"5px"},x),F=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Anywhere in your app!"),r.a.createElement(j.a,{initialValues:{firstName:"",lastName:"",email:"",gender:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="email Required",e.firstName||(t.firstName="firstName Required"),e.lastName||(t.lastName="lastName Required"),e.gender?["MALE","male","FEMALE","female"].includes(e.gender)||(t.gender="gender must be one of 'MALE', 'male', 'FEMALE', 'female'"):t.gender="gender Required",t},onSubmit:function(t,n){var a,r=n.setSubmitting;t.gender=t.gender.toUpperCase(),(a=t,Object(E.a)("/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(b)).then((function(){e.onSuccess()})).catch((function(t){e.onFailure(t)})).finally((function(){r(!1)}))}},(function(e){var t=e.values,n=e.errors,a=e.touched,l=e.handleChange,i=e.handleBlur,s=e.handleSubmit,o=e.isSubmitting,c=e.submitForm,u=e.isValid;return r.a.createElement("form",{onSubmit:s},r.a.createElement(k.a,{style:x,name:"firstName",placeholder:"firstName",onChange:l,onBlur:i,value:t.firstName}),n.firstName&&a.firstName&&r.a.createElement(C.a,{style:M},"errors.firstName"),r.a.createElement(k.a,{style:x,name:"lastName",placeholder:"lastName",onChange:l,onBlur:i,value:t.lastName}),n.lastName&&a.lastName&&r.a.createElement(C.a,{style:M},"errors.lastName"),r.a.createElement(k.a,{style:x,type:"email",name:"email",placeholder:"email",onChange:l,onBlur:i,value:t.email}),n.email&&a.email&&r.a.createElement(C.a,{style:M},"errors.email"),r.a.createElement(k.a,{style:x,name:"gender",placeholder:"gender",onChange:l,onBlur:i,value:t.gender}),n.gender&&a.gender&&r.a.createElement(C.a,{style:M},"errors.gender"),r.a.createElement("br",null),r.a.createElement(O.a,{type:"submit",disabled:o|(a&&!u),onClick:c},"Submit"))})))},I=n(318),B=function(e,t,n){I.a[e]({message:t,description:n})},P=function(e,t){B("error",e,t)},D=r.a.createElement(d.a,{type:"loading",style:{fontSize:24},spin:!0}),L=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={students:[],isFetching:!1,visible:!1},n.fetchStudents=function(){v().then((function(e){return e.json()})).then((function(e){n.setState({students:e,isFetching:!1})})).catch((function(e){var t=e.message,a=e.error.message;P(t,a),n.setState({isFetching:!1})}))},n.showModal=function(){n.setState({visible:!0})},n.closeModal=function(){n.setState({visible:!1})},n.handleOk=function(e){n.setState({visible:!1})},n.handleCancel=function(e){n.setState({visible:!1})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchStudents(),this.setState({isFetching:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.students,a=function(){return r.a.createElement("div",null,r.a.createElement(S,{numberOfStudents:n.length,showModal:e.showModal}),r.a.createElement(f.a,{title:"Basic Modal",visible:e.state.visible,onOk:e.handleOk,onCancel:e.handleCancel,width:1e3},r.a.createElement(F,{onSuccess:function(){e.fetchStudents(),B("success","success","success"),setTimeout(e.closeModal)},onFailure:function(e){var t=e.message,n=e.error.message;P(t,n)}})))},l=[{title:"Avatar",key:"avatar",render:function(e,t,n){return r.a.createElement("div",null,r.a.createElement(h.a,{size:"large"},"".concat(t.firstName.charAt(0).toUpperCase()+t.lastName.charAt(0).toUpperCase())))}},{title:"Student Id",dataIndex:"studentId",key:"studentId"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"}];return t.isFetching?r.a.createElement(N,null,r.a.createElement(g.a,{indicator:D})):n&&n.length?r.a.createElement(N,null,r.a.createElement(p.a,{dataSource:n,columns:l,rowKey:"studentId",style:{marginBottom:"5em"}}),r.a.createElement(a,null)):r.a.createElement("div",null,r.a.createElement(y.a,{description:r.a.createElement("strong",null,"No students found!")}),";",r.a.createElement(a,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[163,1,2]]]);
//# sourceMappingURL=main.c618d22b.chunk.js.map